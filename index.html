<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page</title>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N483Z9SG');</script>
    <!-- End Google Tag Manager -->
</head>
<body>

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N483Z9SG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    

 <h1>Google Tag Manager Test Page</h1>
    
    <div id="key1"></div>
    <div id="key2"></div>
    
    <script>
        // Function to get URL query parameters
        function getQueryParams() {
            var params = {};
            var search = window.location.search.substring(1);
            if (search) {
                var parts = search.split('&');
                for (var i = 0; i < parts.length; i++) {
                    var pair = parts[i].split('=');
                    params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
                }
            }
            return params;
        }

        // Extract the query parameters
        var queryParams = getQueryParams();
        
        // Display the extracted query parameters on the page
        document.getElementById('key1').innerHTML = 'Key1: ' + queryParams['key1'];
        document.getElementById('key2').innerHTML = 'Key2: ' + queryParams['key2'];

       // Pass the extracted values to the JavaScript tag
        (function(a,b,c,d,e,f,g){
            e['ire_o']=c;
            e[c]=e[c]||function(){
                (e[c].a=e[c].a||[]).push(arguments)
            };
            f=d.createElement(b);
            g=d.getElementsByTagName(b)[0];
            f.async=1;
            f.src=a;
            g.parentNode.insertBefore(f,g);
        })('https://utt.impactcdn.com/A2788006-de3d-4011-a57c-c4737e79de0365535.js','script','ire',document,window);
        
        ire('identify', {
            customerid: queryParams['key1'],  // Pass key1 value
            customeremail: queryParams['key2']  // Pass key2 value
        });
    </script>
</body>
</html>
